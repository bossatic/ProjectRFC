<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<HTML LANG="en">
<HEAD>
    <TITLE>SAP Java IDoc Library 3.1 Release Notes</TITLE>
    <LINK REL="stylesheet" TYPE="text/css" HREF="./sap.css" TITLE="Style">
</HEAD>

<BODY BGCOLOR="white">

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="800" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="10" CELLSPACING="0" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="intro.html"><FONT CLASS="NavBarFont1"><B>Home</B></FONT></TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="installation.html"><FONT CLASS="NavBarFont1"><B>Installation</B></FONT></A></TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="index.html" TARGET="_blank"><FONT CLASS="NavBarFont1"><B>API Documentation</B></FONT></A></TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"><FONT CLASS="NavBarFont1Rev"><B>Release Notes</B></FONT></A></TD>
  </TR>
</TABLE>
</TD>

<TR><TD>
<HR>
<CENTER>
<H1>SAP Java IDoc Library 3.1</H1>
</CENTER>
</TD>
</TR>

<tr><td><FONT SIZE="+1"><B>Release Notes 3.1.4</B></FONT></td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Increased minimum required JCo version</b></td></tr>
<tr><td>
The SAP Java IDoc Library now requires at least SAP Java Connector (JCo) Standalone release 3.1.12 or a higher 3.1
release patch level.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Bugfix for setting fixed decimal number and integer based values into IDoc fields</b></td></tr>
<tr><td>
Setting <code>BigDecimal</code> or integer based values into IDoc fields with method <code>IDocRecord.setValue([name|index], value)</code>
did not throw an <code>IDocConversionException</code>, if the provided value had too many digits to fully fit into the respective
IDoc field. The provided value was truncated and stored in the IDoc field nevertheless.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Enhancement for <code>IDocRecord</code></b></td></tr>
<tr><td>
New API methods have been introduced to the <code>IDocRecord</code> interface:
<code>IDocRecord.setValue([index|name], java.math.BigDecimal)</code>, <code>IDocRecord.setValue([index|name], java.math.BigInteger)</code>,
and <code>IDocRecord.setValue([index|name], java.util.Date)</code>. These 6 new API methods serve as type-safe and
more performant replacement of method <code>IDocRecord.setValue([index|name], java.lang.Object)</code> for setting
field values from <code>java.math.BigDecimal</code>, <code>java.math.BigInteger</code>, and <code>java.util.Date</code>
objects.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr bgcolor="#CCCCFF" class="TableHeadingColor"><td><b>New APIs</b></td></tr>
<tr><td>
The following new APIs have been added and are available for general use:
<ul><code>
  <li>com.sap.conn.idoc.IDocRecord.setValue(int index, java.math.BigDecimal value)</li>
  <li>com.sap.conn.idoc.IDocRecord.setValue(String name, java.math.BigDecimal value)</li>
  <li>com.sap.conn.idoc.IDocRecord.setValue(int index, java.math.BigInteger value)</li>
  <li>com.sap.conn.idoc.IDocRecord.setValue(String name, java.math.BigInteger value)</li>
  <li>com.sap.conn.idoc.IDocRecord.setValue(int index, java.util.Date value)</li>
  <li>com.sap.conn.idoc.IDocRecord.setValue(String name, java.util.Date value)</li>
</code></ul>
See the API documentation for details.
</td></tr>


<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><FONT SIZE="+1"><B>Release Notes 3.1.3</B></FONT></td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Increased minimum required JCo version</b></td></tr>
<tr><td>
The SAP Java IDoc Library now requires at least SAP Java Connector (JCo) Standalone release 3.1.7 or a higher 3.1
release patch level.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Bugfix at getting <code>JCoIDocServer</code> instances</b></td></tr>
<tr><td>
When calling <code>JCoIDoc.getServer(&lt;serverName&gt;)</code> in a multi-threaded environment for getting multiple
<code>JCoIDocServer</code> instances simultaneously, it might have happened that an exception similar to the
following one was thrown:<br/>
<code>java.lang.ClassCastException: class com.sap.conn.jco.rt.CPICServer cannot be cast<br/>
to class com.sap.conn.idoc.jco.rt.ServerAndIDocServerInternal</code>
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Bugfix for type TIME field value conversions to <code>java.util.Date</code> objects</b></td></tr>
<tr><td>
When getting a <code>java.util.Date</code> object from an <code>IDocRecord</code> field of type TIME,
an <code>IDocConversionException</code> might have been thrown depending on the clock time value and the
time zone, in which the IDoc application was running. For example, when running in time zone America/Mazatlan,
then invoking <code>IDocRecord.getTime(...)</code> could have caused an exception similar to the following one:<br/>
<code>com.sap.conn.idoc.IDocConversionException: Unparseable date: "000000" in record &lt;recordName&gt;<br/>
at field &lt;fieldName&gt;</code>
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Bugfix at parsing IDoc-XML data obtained from a <code>java.io.InputStream</code></b></td></tr>
<tr><td>
<code>IDocXMLProcessor.parse(..., java.io.InputStream xmlStream, ...)</code> methods failed to detect and to
use the correct character encoding for reading the XML input stream, if the stream data started with a
2-byte or 4-byte BOM character or the characters were encoded with an EBCDIC code page.
</td></tr>


<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><FONT SIZE="+1"><B>Release Notes 3.1.2</B></FONT></td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Increased minimum required JCo version</b></td></tr>
<tr><td>
The SAP Java IDoc Library now requires at least SAP Java Connector (JCo) Standalone release 3.1.5 or a higher 3.1
release patch level.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Support for the ABAP data type utclong</b></td></tr>
<tr><td>
Support for the predefined ABAP data type <code>utclong</code> has been added. Corresponding IDoc field elements of
Data Dictionary type UTCLONG are mapped to the newly introduced <code>IDocDatatype.UTCLONG</code> now. Hence, field value
conversions and field datatype checks can now be performed appropriately also for this data type.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><FONT SIZE="+1"><B>Release Notes 3.1.1</B></FONT></td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Increased minimum required JCo version</b></td></tr>
<tr><td>
With JCo 3.1.3 WebSocket RFC Server support has been introduced in the JCo runtime. In order to achieve this, internal
classes with which the SAP Java IDoc Library 3.1 interacts, had to be adjusted so that IDocLibrary 3.1.0 does not work
anymore with JCo 3.1.3. SAP Java IDoc Library 3.1.1 is adjusted to JCo 3.1.3 internal class layout, which means that
the minimum release for it is JCo 3.1.3.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr><td>&nbsp;</td></tr>
<tr><td><FONT SIZE="+1"><B>Release Notes 3.1.0</B></FONT></td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Prerequisites</b></td></tr>
<tr><td>
The SAP Java IDoc Library 3.1 is an add-on library and requires SAP JCo 3.1 as a prerequisite.<br>
The Java IDoc Library 3.1 version is the successor of the Java IDoc Library 3.0. It is supposed to be byte-code
compatible to the Java IDoc Library 3.0 as long as you are not using methods, fields or interfaces, that have been
deprecated in the Java IDoc Library 3.0. Those have been removed from the Java IDoc Library 3.1. Please note that,
like for JCo 3.1, the minimum JSE version has been raised to Java 8.
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Features</b></td></tr>
<tr><td>
  <ul>
  <li>Platform independent (written in pure Java)</li>
  <li>Easy navigation through IDoc segment trees</li>
  <li>Easy access to single IDoc and segment data fields</li>
  <li>Supports IDoc base types and customer extensions</li>
  <li>Optional syntax checking</li>
  <li>Repository concept offers access to IDoc meta data</li>
  <li>Parsing and rendering of IDoc-XML strings and</li>
  <li>Interface based architecture provides openness for different middleware transport and data layers
      (like the SAP Java Connector or the SAP Business Connector)</li>
  </ul>
</td></tr>

<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>About dialog</b></td></tr>
<tr><td>
The SAP Java IDoc Library 3.1 version information can conveniently be determined by using the command<br>
  <br>
  <code>&nbsp;&nbsp;&nbsp;java -jar {sapjidoc-install-path}/sapidoc3.jar</code><br>
or<br>
  <code>&nbsp;&nbsp;&nbsp;java -classpath {sapjidoc-install-path}/sapidoc3.jar com.sap.conn.idoc.rt.About</code><br>
  <br>
in the installation directory. The command will pop up a dialog containing all relevant JIDocLib version information.
On non-windowing systems you can get the same information printed to the console by typing<br>
  <br>
  <code>&nbsp;&nbsp;&nbsp;java -jar {sapjidoc-install-path}/sapidoc3.jar -stdout</code><br>
or<br>
  <code>&nbsp;&nbsp;&nbsp;java -classpath {sapjidoc-install-path}/sapidoc3.jar com.sap.conn.idoc.rt.About -stdout</code><br>
</td></tr>

<tr><td>&nbsp;</td></tr>
<tr BGCOLOR="#CCCCFF" CLASS="TableHeadingColor"><td><b>Support</b></td></tr>
<tr><td>
In case of program errors with the SAP Java IDoc Library 3.1, please report an incident under component BC-MID-CON-JCO
describing the issue, including the platform and the versions of the Java Runtime Environment, the SAP JCo 3.1 and the
SAP JIDocLib 3.1 you are using.<br>
Thank you.
</td></tr>

<TR>
<TD>
<hr>
</TD>
</TR>
<TR>
<TD>
<i>Copyright &#169; 2008-2025 SAP SE. All Rights Reserved.</i>
</TD>
</TR>
</BODY>
</HTML>
